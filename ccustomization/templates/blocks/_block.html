<div id="block-{{ counter }}" class="widget-block{% if settings.border %} bordered{% endif %} {% filter replace('\n', ' ') %}{% block block_classes %}{% endblock %}{% endfilter %}" data-counter="{{ counter }}" data-settings="{{ settings | tojson | forceescape }}">
    <div class="icons-container">
        <span class="ui-icon ui-icon-arrow-4"></span>
        <span class="ui-icon ui-icon-trash"></span>
        <span class="ui-icon ui-icon-copy"></span>
        <span class="ui-icon ui-icon-gear"></span>
    </div>

    <div class="droppables-container">
        <div class="droppable-area droppable-north alert alert-danger"></div>
        <div class="droppable-area droppable-east alert alert-danger"></div>
        <div class="droppable-area droppable-south alert alert-danger"></div>
        <div class="droppable-area droppable-west alert alert-danger"></div>
    </div>

    <div class="content" {% if settings.background %}style="background-image: url({{ settings.background }})"{% endif %}>
        {% block block_content %}{% endblock %}
    </div>

    <div class="block-dialog modal fade">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">Style customization</h4>
                </div>
                <div class="modal-body container-fluid">
                    <input class="we-background-path" type="hidden">
                    <div class="row">
                        <div class="col-md-12">
                            <h4>Background</h4>
                        </div>
                    </div>
                    <div class="row we-background-preview">
                        <div class="col-md-2">
                            <label>Preview</label>
                        </div>
                        <div class="we-background-container col-md-3">
                            <div class="we-background">
                                <span class="we-remove-background-button glyphicon glyphicon-remove" title="Remove background"></span>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-2">
                            <label>Upload</label>
                        </div>
                        <div class="col-md-6">
                            <form action="{{ url_for('.upload') }}" method="post">
                                <input type="file" name="file" class="we-background-file">
                            </form>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-2">
                            <label>Url</label>
                        </div>
                        <div class="col-md-6">
                            <input type="text" class="we-background-url form-control">
                        </div>
                        <div class="col-md-2">
                            <button type="button" class="we-load-background-button btn btn-default">Load</button>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                    <button type="button" class="we-save-button btn btn-primary" data-dismiss="modal">OK</button>
                </div>
            </div>
        </div>
    </div>
</div>
