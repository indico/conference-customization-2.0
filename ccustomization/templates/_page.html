{% extends '_layout.html' %}

{% block content -%}

    <div class="main-cnt{% if edit %} edit-mode{% endif %}" data-render-url="{{ url_for('.render') }}" data-fetch-url="{{ url_for('.fetch', id=page_id) }}" data-upload-url="{{ url_for('.upload') }}">
        {% for firstLvlCnt in mainCnt %}<div class="widget-cnt lvl-1-cnt">
            {% if edit %}
                <div class="container-icons">
                    <span class="ui-icon ui-icon-arrow-4"></span>
                    <span class="ui-icon ui-icon-trash"></span>
                    <span class="ui-icon ui-icon-copy"></span>
                </div>

                <div class="droppable-token droppable-north"></div>
                <div class="droppable-token droppable-south"></div>
            {% endif %}

            {% for secondLvlCnt in firstLvlCnt %}<div class="widget-cnt lvl-2-cnt">
                {% if edit %}
                    <div class="container-icons">
                        <span class="ui-icon ui-icon-arrow-4"></span>
                        <span class="ui-icon ui-icon-trash"></span>
                        <span class="ui-icon ui-icon-copy"></span>
                    </div>

                    <div class="droppable-token droppable-east"></div>
                    <div class="droppable-token droppable-west"></div>
                {% endif %}

                {% for widget in secondLvlCnt %} {{ widget | safe }} {% endfor %}

            </div>{% endfor %}

        </div>{% endfor %}
    </div>

{%- endblock %}
